import { Default{{ name }} } from 'app-models-mocks/{{ name }}';
import { {{ name }}Model } from 'app-models/models';
import { connection } from 'mongoose';
import { expect, test, describe } from 'vitest';

describe("{{ name }}", () => {

    test('should be able to create', async () => {
        await connection.transaction(async (session) => {
            const [{{ prefix }}] = await {{ name }}Model.create([Default{{ name }}], { session });
            await expect(
                {{ name }}Model.findById({{ prefix }}._id).session(session).lean().orFail(),
            ).resolves.not.toThrow();
        });
    });

})
